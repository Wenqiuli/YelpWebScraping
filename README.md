# YelpWebScraping
Harvesting Yelp Data using API and Website - www.yelp.com

##Data Scraping

1. Code Components:
  * getLocation.py 
  * restaurants.py
  * scrapeDate.py
  * scrapeReviews.py

2. Input File format:
    ```
  Minneapolis|Downtown
  Minneapolis|University
  St Paul|Cathedral Hill
    ```


3. Restaurants.py

  This python program is a data scrapper that will fetch 40 records for each neighborhood in city mentioned in Input file. Here, we `import getLocation` to get longitude and latitude for each neighborhood through Google Geocoding API. The logic for getting location coordinates is written in `getLocation.py`. The output file generated by the program will be in `output\SEARCHTERM.csv`. With context of this project, the *SEARCHTERM* is **restaurants**. The file usage is as show below. 
  
    ```      
        $ python restaurant.py [-h] -f FILENAME -s SEARCHTERM
	      Scrape Data through Yelp API
	      optional arguments:
	      -h, --help            show this help message and exit
	      -f FILENAME, --fileName FILENAME
	                             Name of file containing neighbourhoods and their respective cities in pipe-delimited fashion
	      -s SEARCHTERM, --searchTerm SEARCHTERM
	                             Search Category for the data. eg. restaurants, bars, etc.
    ```

4. scrapeDate.py
  
  This python program will fetch first review date for the restaurants from Yelp website. The program takes input a file with restaurant IDs for which you need the first review date. If there are no reviews or reviews aren't in English, the program would insert `99999` as dummy value in the generated output file. The file usage is as shown below.

    ```
      $ python scrapeDate.py [-h] -f FILENAME
  
      optional arguments:
      -h, --help            show this help message and exit
      -f FILENAME, --fileName FILENAME
                            input file with restaurantIDs
    ```

5. scrapeReviews.py

  This python program will take location, category (eg. chinese, indian, mexican, etc.) and term (eg restaurants, bars, etc.) as input, and will fetch all the user reviews for top 20 restaurants in that location with that category.  
